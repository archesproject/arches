Arches 8.0.0 Release Notes
--------------------------

### Major enhancements
- 9613 Adds editable_future_graphs and the ability to update Graphs without unpublishing.
- 11042 Adds `ResourceInstanceLifecycle`s and `ResourceInstanceLifecycleState`s

### Additional highlights

- Add session-based REST APIs for login, logout [#11261](https://github.com/archesproject/arches/issues/11261)
- Improve handling of longer model names [#11317](https://github.com/archesproject/arches/issues/11317)
- Support more expressive plugin URLs [#11320](https://github.com/archesproject/arches/issues/11320)

### Dependency changes
```
Python:
    Upgraded:
        Django: 5.1.0
        django-cors-headers: 4.4.0

    Added:

    Removed:
        tomli


JavaScript:
    Upgraded:

    Added:
        primeicons == 7.0.0

    Removed:
```

### Breaking changes
- The minimum supported version of Python is now 3.11.

- The minimum supported version of GDAL is now 2.4 (along with GEOS 3.8).

- The `TileModel` entity has been updated. Instead of `nodegroup` acting as a foreign key to the `Nodegroup` table, it has been replaced with `nodegroup_id`, a simple UUID field. There is now a `nodegroup` class method that will retrieve the Nodegroup from the `nodegroup_id` field, but any direct database references to `nodegroup` should be updated.

- Following a deprecation in 7.6.0, the `-o install` argument to `manage.py packages` has been removed.

### Upgrading Arches

1. You must be upgraded to at least version   before proceeding. If you are on an earlier version, please refer to the upgrade process in the []()

### Upgrading an Arches project

1. Upgrade the `requires-python` value in pyproject.toml to `">=3.11"`.

1. Remove "3.10" from the `python-version` matrix in `.github/workflows/main.yml`.

1. Update your frontend dependencies:
    ```
    rm -rf node_modules package-lock.json
    npm install
    ```

2. Within your project, with your Python 3 virtual environment activated:
    ```
    python manage.py migrate
    ```

3. Create editable_future_graphs for your Resource Models using the command `python manage.py graph create_editable_future_graphs`. This will publish new versions of each Graph.

4. Update your Graph publications and Resource instances to point to the newly published Graphs by running `python manage.py graph publish --update -ui`

5. Within your project with your Python 3 virtual environment activated:
    ```
    python manage.py es reindex_database
    ```

6. Run `npm start` or `npm run build_development` to rebuild your static asset bundle:
    - If running your project in development:
    -  `npm start` will build the frontend of the application and then start a webpack development server
    - `npm run build_development` will build a development bundle for the frontend assests of the application -- this should complete in less than 2 minutes
    - If running your project in production:
    - `npm run build_production` This builds a production bundle. **takes up to 2hrs depending on resources**
    - Alternatively you can run `python manage.py build_production`. This will create a production bundle of frontend assessts and also call `collectstatic`.
