<!--
ARCHES - a program developed to inventory and manage immovable cultural heritage.
Copyright (C) 2013 J. Paul Getty Trust and World Monuments Fund

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
-->
{% extends "base-manager.htm" %}
{% load static %}
{% load i18n %}

{% block title %}
{{ block.super }}
{% trans "Graph Manager" %}
{% endblock title %}


{% block main_content %}
<div class="content-panel" data-bind="click:function() { menuActive(false); }">

    <!-- Title Block -->
    <div class="ep-form-toolbar">
        <div style="display: flex; flex: 1;">
            <h4 class="ep-form-toolbar-title">
            {% block graph_header_title %}
            {% endblock graph_header_title %}
            </h4>
        </div>

        <div>
            {% block graph_header_tools %}
            {% endblock graph_header_tools %}
        </div>

        <!-- Tools -->
        <div class="ep-form-toolbar-tools">
            {% block graph_header_buttons %}
            <a class="btn btn-sm btn-mint btn-labeled fa fa-mail-reply back-to-designer" href="{% url 'graph' '' %}" data-bind="click:function () { navigate('{% url 'graph' '' %}') }"><span>{% trans "Done" %}</span></a>
            {% endblock graph_header_buttons %}
        </div>
    </div>

    <!-- Edit Content -->
    <div class="flex">

        <!-- Settings -->
        <!-- <div id="settings-form" class="relative fade in" style="display: block;"> -->

            <!-- Page Content -->
            {% block content %}
            {% endblock content %}
        <!-- </div> -->


    </div>

</div>
{% endblock main_content %}

{% block pre_require_js %}
    {{block.super}}

    <!-- consumed by media/js/function-templates.js -->
    <div 
        id="graphBaseData"
        style="display: none;"
        graphBaseData='{
            "graphid": "{{graphid}}",
            "graph": {{graph_json}}
        }'
    ></div>
{% endblock pre_require_js %}
